<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Android Window 类参数详解, Android, Google, Blog">
    <meta name="description" content="Window 是一个抽象类，它作为一个顶级视图添加到 WindowManager 中，View 是依附于 Window 而存在的，对 View 进行管理。PhoneWindow：Window 的唯一实现类，添加到 WindowManager">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Android Window 类参数详解 | Henley</title>
    <link rel="icon" type="image/x-icon, image/vnd.microsoft.icon" href="/favicon.ico">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    
    <script src="/libs/jquery/jquery.min.js"></script>
    
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper head-container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Henley</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/resources" class="waves-effect waves-light">

      
      <i class="fas fa-list" style="zoom: 0.6;"></i>
      
      <span>资源</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/musics">
          
          <i class="fas fa-music" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>音乐</span>
        </a>
      </li>
      
      <li>
        <a href="/movies">
          
          <i class="fas fa-film" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>电影</span>
        </a>
      </li>
      
      <li>
        <a href="/books">
          
          <i class="fas fa-book" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>图书</span>
        </a>
      </li>
      
      <li>
        <a href="/galleries">
          
          <i class="fas fa-image" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>相册</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Henley</div>
        <div class="logo-desc">
            
            让信念坚持下去，梦想就会实现
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-list"></i>
			
			资源
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul style="background:  ;">
              
                <li>   
				
                  <a href="/musics " style="margin-left:75px" ;="">
				  
				   <i class="fa fas fa-music" style="position: absolute;left:50px"></i>
			      
		          <span>音乐</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/movies " style="margin-left:75px" ;="">
				  
				   <i class="fa fas fa-film" style="position: absolute;left:50px"></i>
			      
		          <span>电影</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/books " style="margin-left:75px" ;="">
				  
				   <i class="fa fas fa-book" style="position: absolute;left:50px"></i>
			      
		          <span>图书</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/galleries " style="margin-left:75px" ;="">
				  
				   <i class="fa fas fa-image" style="position: absolute;left:50px"></i>
			      
		          <span>相册</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/HenleyLee" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>GitHub
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #1D62F0;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/HenleyLee" class="github-corner tooltipped hide-on-med-and-down" target="_blank">
    <svg viewbox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/23.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        Android Window 类参数详解
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #007aff;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #007aff;
    }

    #toc-content .is-active-link::before {
        background-color: #007aff;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Android/" target="_blank">
                                <span class="chip tag-bg-color">Android</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Android/" class="post-category" target="_blank">
                                Android
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-alt fa-fw"></i>&nbsp;发布日期:&nbsp;
                    2020-06-07
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    7.2k
                </div>
                

                
                    <div class="info-break-policy">
                        <i class="far fa-clock fa-fw"></i>&nbsp;阅读时长:&nbsp;
                        28 分
                    </div>
                
				
                
            </div>
            
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p><code>Window</code> 是一个抽象类，它作为一个顶级视图添加到 <code>WindowManager</code> 中，<code>View</code> 是依附于 <code>Window</code> 而存在的，对 <code>View</code> 进行管理。<code>PhoneWindow：</code>Window 的唯一实现类，添加到 WindowManager 的根容器中。</p>
<p><code>WindowManager</code> 是一个接口，继承自接口 <code>ViewManager</code>，对 <code>Window</code> 进行管理。<code>WindowManager</code> 是 <code>Window</code> 的容器，管理着 <code>Window</code>，对 <code>Window</code> 进行添加和删除，最终具体的工作都是由 <code>WindowManagerService</code> 来处理的，<code>WindowManager</code> 和 <code>WindowManagerService</code> 通过 <code>Binder</code> 来进行跨进程通信，<code>WindowManagerService</code> 才是 <code>Window</code> 的最终管理者。</p>
<h2 id="Window-的常用参数"><a href="#Window-的常用参数" class="headerlink" title="Window 的常用参数"></a>Window 的常用参数</h2><p><code>Window</code> 的参数都被定义在 <code>WindowManager</code> 的静态内部类 <code>LayoutParams</code> 中，源码如下：</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">LayoutParams</span> <span class="token keyword">extends</span> <span class="token class-name">ViewGroup<span class="token punctuation">.</span>LayoutParams</span> <span class="token keyword">implements</span> <span class="token class-name">Parcelable</span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">/** Window左上角的X坐标 */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> x<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window左上角的Y坐标 */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> y<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window的水平方向权重 */</span>
    <span class="token keyword">public</span> <span class="token keyword">float</span> horizontalWeight<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window的垂直方向权重 */</span>
    <span class="token keyword">public</span> <span class="token keyword">float</span> verticalWeight<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window的类型 */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> type<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window的flag，用于控制Window的显示 */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> flags<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window软键盘输入区域的显示模式 */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> softInputMode<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window在屏幕中的显示位置 */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> gravity<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window和容器的水平间距 */</span>
    <span class="token keyword">public</span> <span class="token keyword">float</span> horizontalMargin<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window和容器的垂直间距 */</span>
    <span class="token keyword">public</span> <span class="token keyword">float</span> verticalMargin<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window的像素点格式，值定义在PixelFormat中 */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> format<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window的动画样式资源 */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> windowAnimations<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window的透明度，取值为0~1 */</span>
    <span class="token keyword">public</span> <span class="token keyword">float</span> alpha <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window的屏幕模糊度，取值为0~1 */</span>
    <span class="token keyword">public</span> <span class="token keyword">float</span> dimAmount <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window的屏幕亮度 */</span>
    <span class="token keyword">public</span> <span class="token keyword">float</span> screenBrightness <span class="token operator">=</span> BRIGHTNESS_OVERRIDE_NONE<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window关联的Binder */</span>
    <span class="token keyword">public</span> IBinder token <span class="token operator">=</span> null<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window所属应用程序包名 */</span>
    <span class="token keyword">public</span> String packageName <span class="token operator">=</span> null<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window的方向 */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> screenOrientation <span class="token operator">=</span> ActivityInfo<span class="token punctuation">.</span>SCREEN_ORIENTATION_UNSPECIFIED<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window在凹口屏幕的布局方式 */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> layoutInDisplayCutoutMode <span class="token operator">=</span> LAYOUT_IN_DISPLAY_CUTOUT_MODE_DEFAULT<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<h2 id="Window-的常用类型"><a href="#Window-的常用类型" class="headerlink" title="Window 的常用类型"></a>Window 的常用类型</h2><p><code>Window</code> 的类型大概可以分为三类：<code>Application Window(应用程序窗口)</code>、<code>Sub Windwow(子窗口)</code>、<code>System Window(系统窗口)</code>， <code>Window</code> 的类型通过 <code>type</code> 值来表示，每个大类型又包含多个小类型，它们都定义在 <code>WindowManager</code> 的静态内部类 <code>LayoutParams</code>。源码如下：</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">LayoutParams</span> <span class="token keyword">extends</span> <span class="token class-name">ViewGroup<span class="token punctuation">.</span>LayoutParams</span> <span class="token keyword">implements</span> <span class="token class-name">Parcelable</span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">/** Window的类型 */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> type<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 应用程序Window的开始值 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FIRST_APPLICATION_WINDOW <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">/** 应用程序Window的结束值 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> LAST_APPLICATION_WINDOW <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 子Window类型的开始值 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FIRST_SUB_WINDOW <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">/** 子Window类型的结束值 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> LAST_SUB_WINDOW <span class="token operator">=</span> <span class="token number">1999</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 系统Window类型的开始值 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FIRST_SYSTEM_WINDOW <span class="token operator">=</span> <span class="token number">2000</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">/** 系统Window类型的结束值 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> LAST_SYSTEM_WINDOW <span class="token operator">=</span> <span class="token number">2999</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left">类型</th>
<th style="text-align:left">值</th>
<th style="text-align:left">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>FIRST_APPLICATION_WINDOW</code></td>
<td style="text-align:left">1</td>
<td style="text-align:left">应用程序 Window 的开始值</td>
</tr>
<tr>
<td style="text-align:left"><code>LAST_APPLICATION_WINDOW</code></td>
<td style="text-align:left">99</td>
<td style="text-align:left">应用程序 Window 的结束值</td>
</tr>
<tr>
<td style="text-align:left"><code>FIRST_SUB_WINDOW</code></td>
<td style="text-align:left">1000</td>
<td style="text-align:left">子 Window 类型的开始值</td>
</tr>
<tr>
<td style="text-align:left"><code>LAST_SUB_WINDOW</code></td>
<td style="text-align:left">1999</td>
<td style="text-align:left">子 Window 类型的结束值</td>
</tr>
<tr>
<td style="text-align:left"><code>FIRST_APPLICATION_WINDOW</code></td>
<td style="text-align:left">2000</td>
<td style="text-align:left">系统 Window 类型的开始值</td>
</tr>
<tr>
<td style="text-align:left"><code>FIRST_APPLICATION_WINDOW</code></td>
<td style="text-align:left">2999</td>
<td style="text-align:left">系统 Window 类型的结束值</td>
</tr>
</tbody>
</table>
<blockquote>
<p>如果是层级在 <strong><code>2000(FIRST_SYSTEM_WINDOW)</code></strong> 以下的是不需要申请弹窗权限的。</p>
</blockquote>
<h3 id="Application-Window"><a href="#Application-Window" class="headerlink" title="Application Window"></a>Application Window</h3><p><code>Application Window(应用程序窗口)</code> 的区间范围 <code>[1,99]</code>，例如：<code>Activity</code>。源码如下：</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">LayoutParams</span> <span class="token keyword">extends</span> <span class="token class-name">ViewGroup<span class="token punctuation">.</span>LayoutParams</span> <span class="token keyword">implements</span> <span class="token class-name">Parcelable</span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">/** 应用程序Window的开始值 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FIRST_APPLICATION_WINDOW <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 应用程序Window的基础值 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_BASE_APPLICATION   <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 普通的应用程序 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_APPLICATION        <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 特殊的应用程序窗口(在程序可以显示Window之前系统使用这个Window来显示一些东西) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_APPLICATION_STARTING <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** TYPE_APPLICATION的变体(在应用程序显示之前，WindowManager会等待这个Window绘制完毕) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_DRAWN_APPLICATION <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 应用程序Window的结束值 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> LAST_APPLICATION_WINDOW <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left">类型</th>
<th style="text-align:left">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>FIRST_APPLICATION_WINDOW</code></td>
<td style="text-align:left">应用程序 Window 的开始值</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_BASE_APPLICATION</code></td>
<td style="text-align:left">应用程序 Window 的基础值</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_APPLICATION</code></td>
<td style="text-align:left">普通的应用程序</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_APPLICATION_STARTING</code></td>
<td style="text-align:left">特殊的应用程序窗口(在程序可以显示 Window 之前系统使用这个 Window 来显示一些东西)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_DRAWN_APPLICATION</code></td>
<td style="text-align:left">TYPE_APPLICATION 的变体(在应用程序显示之前，WindowManager 会等待这个 Window 绘制完毕)</td>
</tr>
<tr>
<td style="text-align:left"><code>LAST_APPLICATION_WINDOW</code></td>
<td style="text-align:left">应用程序 Window 的结束值</td>
</tr>
</tbody>
</table>
<h3 id="Sub-Windwow"><a href="#Sub-Windwow" class="headerlink" title="Sub Windwow"></a>Sub Windwow</h3><p><code>Sub Window(子窗口)</code> 的区间范围 <code>[1000,1999]</code>，这些 <code>Window</code> 按照 <code>Z-order</code> 顺序依附于父 <code>Window</code> 上，并且他们的坐标空间相对于父 <code>Window</code> 的，例如：<code>PopupWindow</code>。源码如下：</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">LayoutParams</span> <span class="token keyword">extends</span> <span class="token class-name">ViewGroup<span class="token punctuation">.</span>LayoutParams</span> <span class="token keyword">implements</span> <span class="token class-name">Parcelable</span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">/** 子Window类型的开始值 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FIRST_SUB_WINDOW <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 应用程序Window顶部的面板(这些Window出现在其附加Window的顶部) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_APPLICATION_PANEL <span class="token operator">=</span> FIRST_SUB_WINDOW<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 用于显示媒体(如视频)的Window(这些Window出现在其附加Window的后面) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_APPLICATION_MEDIA <span class="token operator">=</span> FIRST_SUB_WINDOW <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 应用程序Window顶部的子面板(这些Window出现在其附加Window和任何Window的顶部) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_APPLICATION_SUB_PANEL <span class="token operator">=</span> FIRST_SUB_WINDOW <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 类似于TYPE_APPLICATION_PANEL，当前Window的布局和顶级Window布局相同，而不是其容器的子级 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_APPLICATION_ATTACHED_DIALOG <span class="token operator">=</span> FIRST_SUB_WINDOW <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 用显示媒体Window覆盖顶部的Window(系统隐藏的API) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_APPLICATION_MEDIA_OVERLAY  <span class="token operator">=</span> FIRST_SUB_WINDOW <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 子面板在应用程序Window的顶部(这些Window显示在其附加Window的顶部，系统隐藏的API) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_APPLICATION_ABOVE_SUB_PANEL <span class="token operator">=</span> FIRST_SUB_WINDOW <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 子Window类型的结束值 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> LAST_SUB_WINDOW <span class="token operator">=</span> <span class="token number">1999</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left">类型</th>
<th style="text-align:left">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>FIRST_SUB_WINDOW</code></td>
<td style="text-align:left">子 Window 类型的开始值</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_APPLICATION_PANEL</code></td>
<td style="text-align:left">应用程序 Window 顶部的面板(这些 Window 出现在其附加 Window 的顶部)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_APPLICATION_MEDIA</code></td>
<td style="text-align:left">用于显示媒体(如视频)的 Window(这些 Window 出现在其附加 Window 的后面)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_APPLICATION_SUB_PANEL</code></td>
<td style="text-align:left">应用程序 Window 顶部的子面板(这些 Window 出现在其附加 Window 和任何Window的顶部)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_APPLICATION_ATTACHED_DIALOG</code></td>
<td style="text-align:left">类似于TYPE_APPLICATION_PANEL，当前Window的布局和顶级Window布局相同，而不是其容器的子级</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_APPLICATION_MEDIA_OVERLAY</code></td>
<td style="text-align:left">用显示媒体 Window 覆盖顶部的 Window(系统隐藏的API)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_APPLICATION_ABOVE_SUB_PANEL</code></td>
<td style="text-align:left">子面板在应用程序 Window 的顶部(这些 Window 显示在其附加 Window 的顶部，系统隐藏的 API)</td>
</tr>
<tr>
<td style="text-align:left"><code>LAST_SUB_WINDOW</code></td>
<td style="text-align:left">子 Window 类型的结束值</td>
</tr>
</tbody>
</table>
<h3 id="System-Window"><a href="#System-Window" class="headerlink" title="System Window"></a>System Window</h3><p><code>System Window(系统窗口)</code> 的区间范围 <code>[2000,2999]</code>，例如：<code>Toast</code>，<code>输入法窗口</code>，<code>系统音量条窗口</code>，<code>系统错误窗口</code>。源码如下：</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">LayoutParams</span> <span class="token keyword">extends</span> <span class="token class-name">ViewGroup<span class="token punctuation">.</span>LayoutParams</span> <span class="token keyword">implements</span> <span class="token class-name">Parcelable</span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">/** 系统Window类型的开始值 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FIRST_SYSTEM_WINDOW     <span class="token operator">=</span> <span class="token number">2000</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 系统状态栏，只能有一个状态栏，它被放置在屏幕的顶部，所有其他窗口都向下移动 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_STATUS_BAR         <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 系统搜索窗口，只能有一个搜索栏，它被放置在屏幕的顶部 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_SEARCH_BAR         <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 电话窗口，通常位于所有应用程序上方，但位于状态栏后面(对于非系统应用程序已弃用，用TYPE_APPLICATION_OVERLAY代替) */</span>
    <span class="token annotation punctuation">@Deprecated</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_PHONE              <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 系统窗口，始终位于应用程序窗口的顶部(对于非系统应用程序已弃用，用TYPE_APPLICATION_OVERLAY代替) */</span>
    <span class="token annotation punctuation">@Deprecated</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_SYSTEM_ALERT       <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 锁屏窗口(已经从系统中被移除，可以使用 TYPE_KEYGUARD_DIALOG 代替) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_KEYGUARD           <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 临时通知(对于非系统应用程序已弃用，用TYPE_APPLICATION_OVERLAY代替) */</span>
    <span class="token annotation punctuation">@Deprecated</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_TOAST              <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 系统叠加窗口，需要显示在其他所有窗口之上(对于非系统应用程序已弃用，用TYPE_APPLICATION_OVERLAY代替) */</span>
    <span class="token annotation punctuation">@Deprecated</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_SYSTEM_OVERLAY     <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">6</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 优先电话UI，即使处于锁屏状态也需要显示(对于非系统应用程序已弃用，用TYPE_APPLICATION_OVERLAY代替) */</span>
    <span class="token annotation punctuation">@Deprecated</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_PRIORITY_PHONE     <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">7</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 系统对话框窗口 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_SYSTEM_DIALOG      <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">8</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 锁屏时显示的对话框 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_KEYGUARD_DIALOG    <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">9</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 内部系统错误窗口，出现在所有可能的窗口顶部(对于非系统应用程序已弃用，用TYPE_APPLICATION_OVERLAY代替) */</span>
    <span class="token annotation punctuation">@Deprecated</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_SYSTEM_ERROR       <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 输入法窗口，显示在普通UI上方，应用程序可重新布局以免输入焦点被此窗口覆盖 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_INPUT_METHOD       <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">11</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 输入法对话框，显示于当前输入法窗口之上 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_INPUT_METHOD_DIALOG<span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">12</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 墙纸窗口，放置在要位于墙纸顶部的任何窗口后面 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_WALLPAPER          <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">13</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 状态栏的滑动面板 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_STATUS_BAR_PANEL   <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">14</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 系统叠加窗口，需要显示在其他所有窗口之上(系统隐藏的API) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_SECURE_SYSTEM_OVERLAY <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">15</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 拖放式伪窗口(系统隐藏的API) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_DRAG               <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">16</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 状态栏的滑动面板(系统隐藏的API) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_STATUS_BAR_SUB_PANEL <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">17</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** (鼠标)指针(系统隐藏的API) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_POINTER <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">18</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 导航栏(系统隐藏的API) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_NAVIGATION_BAR <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">19</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 系统音量条窗口(系统隐藏的API) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_VOLUME_OVERLAY <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">20</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 引导进度对话框，位于所有窗口只上(系统隐藏的API) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TYPE_BOOT_PROGRESS <span class="token operator">=</span> FIRST_SYSTEM_WINDOW<span class="token operator">+</span><span class="token number">21</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 应用程序叠加窗口，显示在所有活动窗口上方，但在关键系统窗口(如状态栏或IME)下方 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> intTYPE_APPLICATION_OVERLAY<span class="token operator">=</span> FIRST_SYSTEM_WINDOW <span class="token operator">+</span> <span class="token number">38</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 系统 Window 类型的结束值 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> LAST_SYSTEM_WINDOW      <span class="token operator">=</span> <span class="token number">2999</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left">类型</th>
<th style="text-align:left">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>FIRST_APPLICATION_WINDOW</code></td>
<td style="text-align:left">系统 Window 类型的开始值</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_STATUS_BAR</code></td>
<td style="text-align:left">系统状态栏，只能有一个状态栏，它被放置在屏幕的顶部，所有其他窗口都向下移动</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_SEARCH_BAR</code></td>
<td style="text-align:left">系统搜索窗口，只能有一个搜索栏，它被放置在屏幕的顶部</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_PHONE</code></td>
<td style="text-align:left">电话窗口，通常位于所有应用程序上方，但位于状态栏后面(对于非系统应用程序已弃用，用 TYPE_APPLICATION_OVERLAY 代替)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_SYSTEM_ALERT</code></td>
<td style="text-align:left">系统窗口，始终位于应用程序窗口的顶部(对于非系统应用程序已弃用，用 TYPE_APPLICATION_OVERLAY 代替)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_KEYGUARD</code></td>
<td style="text-align:left">锁屏窗口(已经从系统中被移除，可以使用 TYPE_KEYGUARD_DIALOG 代替)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_TOAST</code></td>
<td style="text-align:left">临时通知(对于非系统应用程序已弃用，用 TYPE_APPLICATION_OVERLAY 代替)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_SYSTEM_OVERLAY</code></td>
<td style="text-align:left">系统叠加窗口，需要显示在其他所有窗口之上(对于非系统应用程序已弃用，用 TYPE_APPLICATION_OVERLAY 代替)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_PRIORITY_PHONE</code></td>
<td style="text-align:left">优先电话UI，即使处于锁屏状态也需要显示(对于非系统应用程序已弃用，用 TYPE_APPLICATION_OVERLAY 代替)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_SYSTEM_DIALOG</code></td>
<td style="text-align:left">系统对话框窗口</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_KEYGUARD_DIALOG</code></td>
<td style="text-align:left">锁屏时显示的对话框</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_SYSTEM_ERROR</code></td>
<td style="text-align:left">内部系统错误窗口，出现在所有可能的窗口顶部(对于非系统应用程序已弃用，用 TYPE_APPLICATION_OVERLAY 代替)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_INPUT_METHOD</code></td>
<td style="text-align:left">输入法窗口，显示在普通UI上方，应用程序可重新布局以免输入焦点被此窗口覆盖</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_INPUT_METHOD_DIALOG</code></td>
<td style="text-align:left">输入法对话框，显示于当前输入法窗口之上</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_WALLPAPER</code></td>
<td style="text-align:left">墙纸窗口，放置在要位于墙纸顶部的任何窗口后面</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_STATUS_BAR_PANEL</code></td>
<td style="text-align:left">状态栏的滑动面板</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_SECURE_SYSTEM_OVERLAY</code></td>
<td style="text-align:left">系统叠加窗口，需要显示在其他所有窗口之上(系统隐藏的API)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_DRAG</code></td>
<td style="text-align:left">拖放式伪窗口(系统隐藏的API)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_STATUS_BAR_SUB_PANEL</code></td>
<td style="text-align:left">状态栏的滑动面板(系统隐藏的API)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_POINTER</code></td>
<td style="text-align:left">(鼠标)指针(系统隐藏的API)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_NAVIGATION_BAR</code></td>
<td style="text-align:left">导航栏(系统隐藏的API)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_VOLUME_OVERLAY</code></td>
<td style="text-align:left">系统音量条窗口(系统隐藏的API)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_BOOT_PROGRESS</code></td>
<td style="text-align:left">引导进度对话框，位于所有窗口只上(系统隐藏的API)</td>
</tr>
<tr>
<td style="text-align:left"><code>TYPE_APPLICATION_OVERLAY</code></td>
<td style="text-align:left">应用程序叠加窗口，显示在所有活动窗口上方，但在关键系统窗口(如状态栏或IME)下方</td>
</tr>
<tr>
<td style="text-align:left"><code>FIRST_APPLICATION_WINDOW</code></td>
<td style="text-align:left">系统Window类型的结束值</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>注意：</strong></p>
<ul>
<li><code>TYPE_PHONE</code>、<code>TYPE_SYSTEM_ALERT</code>、<code>TYPE_TOAST</code>、<code>TYPE_SYSTEM_OVERLAY</code>、<code>TYPE_PRIORITY_PHONE</code>、<code>TYPE_SYSTEM_ERROR</code> 这些 <code>type</code> 在 <code>API 26</code> 中均已经过时，使用 <code>TYPE_APPLICATION_OVERLAY</code> 代替，需要申请 <code>Manifest.permission.SYSTEM_ALERT_WINDOW</code> 权限。</li>
<li><code>TYPE_KEYGUARD</code> 已经被从系统中移除，可以使用 <code>TYPE_KEYGUARD_DIALOG</code> 来代替。</li>
</ul>
</blockquote>
<h2 id="Window-的标志位"><a href="#Window-的标志位" class="headerlink" title="Window 的标志位"></a>Window 的标志位</h2><p><code>Window</code> 的 <code>flag</code> 可以通过 <code>Window#addFlags(int)</code> 方法和  <code>Window#setFlags(int, int)</code> 方法设置，通过 <code>Window#clearFlags(int)</code> 方法清除。</p>
<p><code>Window</code> 的 <code>flag</code> 用于控制 <code>Window</code> 的显示，它们的值也是定义在 <code>WindowManager</code> 的静态内部类 <code>LayoutParams</code> 中，源码如下：</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">LayoutParams</span> <span class="token keyword">extends</span> <span class="token class-name">ViewGroup<span class="token punctuation">.</span>LayoutParams</span> <span class="token keyword">implements</span> <span class="token class-name">Parcelable</span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">/** Window的flag，用于控制Window的显示 */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> flags<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window可见时允许锁屏 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_ALLOW_LOCK_WHILE_SCREEN_ON     <span class="token operator">=</span> <span class="token number">0x00000001</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window后面的所有内容都会变暗 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_DIM_BEHIND        <span class="token operator">=</span> <span class="token number">0x00000002</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window后面的内容都变模糊(API已过时) */</span>
    <span class="token annotation punctuation">@Deprecated</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_BLUR_BEHIND        <span class="token operator">=</span> <span class="token number">0x00000004</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window不能获得输入焦点，即不接受任何按键或按钮事件，例如该Window上 有EditView，点击EditView 是不会弹出软键盘的；
        Window范围外的事件依旧为原窗口处理；例如点击该窗口外的View，依然会有响应。另外只要设置了此Flag，都将会启用FLAG_NOT_TOUCH_MODAL */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_NOT_FOCUSABLE      <span class="token operator">=</span> <span class="token number">0x00000008</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window将不会接受任何Touch事件 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_NOT_TOUCHABLE      <span class="token operator">=</span> <span class="token number">0x00000010</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 将Window之外的按键事件发送给后面的Window处理，而自己只会处理Window区域内的触摸事件；
        Window之外的View 也是可以响应Touch事件 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_NOT_TOUCH_MODAL    <span class="token operator">=</span> <span class="token number">0x00000020</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window可见时设备的屏幕处于打开状态并保持明亮 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_KEEP_SCREEN_ON     <span class="token operator">=</span> <span class="token number">0x00000080</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window占满整个屏幕，忽略边框周围的装饰(例如状态栏) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_LAYOUT_IN_SCREEN   <span class="token operator">=</span> <span class="token number">0x00000100</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 允许Window扩展到屏幕之外 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_LAYOUT_NO_LIMITS   <span class="token operator">=</span> <span class="token number">0x00000200</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 全屏显示，隐藏所有的Window装饰(例如状态栏) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_FULLSCREEN      <span class="token operator">=</span> <span class="token number">0x00000400</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 覆盖FLAG_FULLSCREEN并强制显示屏幕装饰(例如状态栏) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_FORCE_NOT_FULLSCREEN   <span class="token operator">=</span> <span class="token number">0x00000800</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 将窗口的内容视为安全的，防止其出现在屏幕截图中或在非安全的显示器上查看 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_SECURE             <span class="token operator">=</span> <span class="token number">0x00002000</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 一种特殊模式，在该模式下，布局参数用于在将表面合成到屏幕时执行缩放 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_SCALED             <span class="token operator">=</span> <span class="token number">0x00004000</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 当用户的脸贴近屏幕时(比如打电话)，不会去响应此事件 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_IGNORE_CHEEK_PRESSES    <span class="token operator">=</span> <span class="token number">0x00008000</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 仅与FLAG_LAYOUT_IN_SCREEN结合使用的特殊选项。在屏幕上请求布局时，窗口可能出现在屏幕装饰(例如状态栏)的上方或下方 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_LAYOUT_INSET_DECOR <span class="token operator">=</span> <span class="token number">0x00010000</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window与当前输入法的交互方式 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_ALT_FOCUSABLE_IM <span class="token operator">=</span> <span class="token number">0x00020000</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 当按键动作发生在Window之外时，将接收到一个MotionEvent.ACTION_OUTSIDE事件 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_WATCH_OUTSIDE_TOUCH <span class="token operator">=</span> <span class="token number">0x00040000</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 窗口可以在锁屏的 Window 之上显示, 使用Activity#setShowWhenLocked(boolean)方法代替 */</span>
    <span class="token annotation punctuation">@Deprecated</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_SHOW_WHEN_LOCKED <span class="token operator">=</span> <span class="token number">0x00080000</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 要求系统壁纸显示在该Window后面，Window表面必须是半透明的，才能真正看到它背后的壁纸 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_SHOW_WALLPAPER <span class="token operator">=</span> <span class="token number">0x00100000</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** Window被添加或可见时，系统便会打开屏幕，使用Activity#setTurnScreenOn(boolean)方法代替 */</span>
    <span class="token annotation punctuation">@Deprecated</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_TURN_SCREEN_ON <span class="token operator">=</span> <span class="token number">0x00200000</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 设置状态栏为透明并且为全屏模式 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_TRANSLUCENT_STATUS <span class="token operator">=</span> <span class="token number">0x04000000</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 设置导航栏为透明并且为全屏模式 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_TRANSLUCENT_NAVIGATION <span class="token operator">=</span> <span class="token number">0x08000000</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 表示此窗口负责绘制系统栏背景。如果设置，系统栏将以透明背景绘制，
        此Window中的相应区域将填充Window#getStatusBarColor()和Window#getNavigationBarColor()中指定的颜色。 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS <span class="token operator">=</span> <span class="token number">0x80000000</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left">flag</th>
<th style="text-align:left">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>FLAG_ALLOW_LOCK_WHILE_SCREEN_ON</code></td>
<td style="text-align:left">Window 可见时允许锁屏</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_DIM_BEHIND</code></td>
<td style="text-align:left">Window 后面的所有内容都会变暗</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_BLUR_BEHIND</code></td>
<td style="text-align:left">Window 后面的内容都变模糊(API 已过时)</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_NOT_FOCUSABLE</code></td>
<td style="text-align:left">Window 不能获得输入焦点，即不接受任何按键或按钮事件，例如该 Window 上 有 EditView，点击 EditView 是不会弹出软键盘的；Window 范围外的事件依旧为原窗口处理；例如点击该窗口外的View，依然会有响应。另外只要设置了此Flag，都将会启用FLAG_NOT_TOUCH_MODAL</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_NOT_TOUCHABLE</code></td>
<td style="text-align:left">Window 将不会接受任何 Touch 事件</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_NOT_TOUCH_MODAL</code></td>
<td style="text-align:left">将 Window 之外的按键事件发送给后面的 Window 处理，而自己只会处理 Window 区域内的触摸事件；Window 之外的 View 也是可以响应 Touch 事件</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_KEEP_SCREEN_ON</code></td>
<td style="text-align:left">Window 可见时设备的屏幕处于打开状态并保持明亮</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_LAYOUT_IN_SCREEN</code></td>
<td style="text-align:left">Window 占满整个屏幕，忽略边框周围的装饰(例如状态栏)</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_LAYOUT_NO_LIMITS</code></td>
<td style="text-align:left">允许 Window 扩展到屏幕之外</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_FULLSCREEN</code></td>
<td style="text-align:left">全屏显示，隐藏所有的 Window 装饰(例如状态栏)</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_FORCE_NOT_FULLSCREEN</code></td>
<td style="text-align:left">覆盖 FLAG_FULLSCREEN 并强制显示屏幕装饰(例如状态栏)</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_SECURE</code></td>
<td style="text-align:left">将窗口的内容视为安全的，防止其出现在屏幕截图中或在非安全的显示器上查看</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_SCALED</code></td>
<td style="text-align:left">一种特殊模式，在该模式下，布局参数用于在将表面合成到屏幕时执行缩放</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_IGNORE_CHEEK_PRESSES</code></td>
<td style="text-align:left">当用户的脸贴近屏幕时(比如打电话)，不会去响应此事件</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_LAYOUT_INSET_DECOR</code></td>
<td style="text-align:left">仅与 FLAG_LAYOUT_IN_SCREEN 结合使用的特殊选项。在屏幕上请求布局时，窗口可能出现在屏幕装饰(例如状态栏)的上方或下方</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_ALT_FOCUSABLE_IM</code></td>
<td style="text-align:left">Window 与当前输入法的交互方式</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_WATCH_OUTSIDE_TOUCH</code></td>
<td style="text-align:left">当按键动作发生在 Window 之外时，将接收到一个 MotionEvent.ACTION_OUTSIDE 事件</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_SHOW_WHEN_LOCKED</code></td>
<td style="text-align:left">窗口可以在锁屏的 Window 之上显示, 使用 Activity#setShowWhenLocked(boolean) 方法代替</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_SHOW_WALLPAPER</code></td>
<td style="text-align:left">要求系统壁纸显示在该 Window 后面，Window 表面必须是半透明的，才能真正看到它背后的壁纸</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_TURN_SCREEN_ON</code></td>
<td style="text-align:left">Window 被添加或可见时，系统便会打开屏幕，使用 Activity#setTurnScreenOn(boolean) 方法代替</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_TRANSLUCENT_STATUS</code></td>
<td style="text-align:left">设置状态栏为透明并且为全屏模式</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_TRANSLUCENT_NAVIGATION</code></td>
<td style="text-align:left">设置导航栏为透明并且为全屏模式</td>
</tr>
<tr>
<td style="text-align:left"><code>FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS</code></td>
<td style="text-align:left">表示此窗口负责绘制系统栏背景。如果设置，系统栏将以透明背景绘制，此 Window 中的相应区域将填充 Window#getStatusBarColor() 和 Window#getNavigationBarColor() 中指定的颜色</td>
</tr>
</tbody>
</table>
<h2 id="Window-的软键盘模式"><a href="#Window-的软键盘模式" class="headerlink" title="Window 的软键盘模式"></a>Window 的软键盘模式</h2><p><code>Window</code> 的软键盘模式表示 <code>Window</code> 软键盘输入区域的显示模式，常见的情况 <code>Window</code> 的软键盘打开会占据整个屏幕。</p>
<p>软键盘模式(<code>softInputMode</code>) 值，与 <code>AndroidManifest</code> 中 <code>Activity</code> 的属性 <code>android:windowSoftInputMode</code> 是对应的，因此可以在 <code>AndroidManifest</code> 文件中为 <code>Activity</code> 设置 <code>android:windowSoftInputMode</code>，示例代码如下：</p>
<pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>windowSoftInputMode</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>adjustNothing<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</code></pre>
<p>也可以在 Java 代码中通过 <code>Window#setSoftInputMode(int)</code> 方法为 <code>Window</code> 设置 <code>softInputMode</code>，示例代码如下：</p>
<pre class=" language-java"><code class="language-java"><span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setSoftInputMode</span><span class="token punctuation">(</span>WindowManager<span class="token punctuation">.</span>LayoutParams<span class="token punctuation">.</span>SOFT_INPUT_ADJUST_NOTHING<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><code>Window</code> 的 <code>softInputMode</code> 用于控制 <code>Window</code> 软键盘输入区域的显示模式，它们的值也是定义在 <code>WindowManager</code> 的静态内部类 <code>LayoutParams</code> 中，源码如下：</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">LayoutParams</span> <span class="token keyword">extends</span> <span class="token class-name">ViewGroup<span class="token punctuation">.</span>LayoutParams</span> <span class="token keyword">implements</span> <span class="token class-name">Parcelable</span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">/** Window软键盘输入区域的显示模式 */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> softInputMode<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 未指定任何状态。当窗口获得焦点时，系统可以显示或隐藏软键盘 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SOFT_INPUT_STATE_UNSPECIFIED <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 不改变软键盘的状态 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SOFT_INPUT_STATE_UNCHANGED <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 当用户进入该窗口时，隐藏软键盘 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SOFT_INPUT_STATE_HIDDEN <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 当窗口获取焦点时，隐藏软键盘 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SOFT_INPUT_STATE_ALWAYS_HIDDEN <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 当用户进入窗口时，显示软键盘 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SOFT_INPUT_STATE_VISIBLE <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 当窗口获取焦点时，显示软键盘 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SOFT_INPUT_STATE_ALWAYS_VISIBLE <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 窗口会调整大小以适应软键盘窗口 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SOFT_INPUT_MASK_ADJUST <span class="token operator">=</span> <span class="token number">0xf0</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 没有指定状态，系统会选择一个合适的状态或依赖于主题的设置 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SOFT_INPUT_ADJUST_UNSPECIFIED <span class="token operator">=</span> <span class="token number">0x00</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 当软键盘弹出时，窗口会调整大小，该模式不能与SOFT_INPUT_ADJUST_PAN结合使用；
        如果窗口的布局参数标志包含FLAG_FULLSCREEN，则将忽略这个值，窗口不会调整大小，但会保持全屏。 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SOFT_INPUT_ADJUST_RESIZE <span class="token operator">=</span> <span class="token number">0x10</span><span class="token punctuation">;</span>


    <span class="token comment" spellcheck="true">/** 当软键盘弹出时，窗口不需要调整大小，只需通过进行输入框平移以确保当前输入焦点可见；
        该模式不能与SOFT_INPUT_ADJUST_RESIZE结合使用 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SOFT_INPUT_ADJUST_PAN <span class="token operator">=</span> <span class="token number">0x20</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 将不会调整大小，直接覆盖在窗口上 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SOFT_INPUT_ADJUST_NOTHING <span class="token operator">=</span> <span class="token number">0x30</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 当用户转至此窗口时，由系统自动设置，当窗口显示之后该标志将自动清除 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SOFT_INPUT_IS_FORWARD_NAVIGATION <span class="token operator">=</span> <span class="token number">0x100</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left">软键盘模式</th>
<th style="text-align:left">xml属性</th>
<th style="text-align:left">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>SOFT_INPUT_STATE_UNSPECIFIED</code></td>
<td style="text-align:left">stateUnspecified</td>
<td style="text-align:left">未指定任何状态，当窗口获得焦点时，系统可以显示或隐藏软键盘</td>
</tr>
<tr>
<td style="text-align:left"><code>SOFT_INPUT_STATE_UNCHANGED</code></td>
<td style="text-align:left">stateUnchanged</td>
<td style="text-align:left">不改变软键盘的状态</td>
</tr>
<tr>
<td style="text-align:left"><code>SOFT_INPUT_STATE_HIDDEN</code></td>
<td style="text-align:left">stateHidden</td>
<td style="text-align:left">当用户进入该窗口时，隐藏软键盘</td>
</tr>
<tr>
<td style="text-align:left"><code>SOFT_INPUT_STATE_ALWAYS_HIDDEN</code></td>
<td style="text-align:left">stateAlwaysHidden</td>
<td style="text-align:left">当窗口获取焦点时，隐藏软键盘</td>
</tr>
<tr>
<td style="text-align:left"><code>SOFT_INPUT_STATE_VISIBLE</code></td>
<td style="text-align:left">stateVisible</td>
<td style="text-align:left">当用户进入窗口时，显示软键盘</td>
</tr>
<tr>
<td style="text-align:left"><code>SOFT_INPUT_STATE_ALWAYS_VISIBLE</code></td>
<td style="text-align:left">stateAlwaysVisible</td>
<td style="text-align:left">当窗口获取焦点时，显示软键盘</td>
</tr>
<tr>
<td style="text-align:left"><code>SOFT_INPUT_MASK_ADJUST</code></td>
<td style="text-align:left">–</td>
<td style="text-align:left">窗口会调整大小以适应软键盘窗口</td>
</tr>
<tr>
<td style="text-align:left"><code>SOFT_INPUT_ADJUST_UNSPECIFIED</code></td>
<td style="text-align:left">adjustUnspecified</td>
<td style="text-align:left">没有指定状态，系统会选择一个合适的状态或依赖于主题的设置</td>
</tr>
<tr>
<td style="text-align:left"><code>SOFT_INPUT_ADJUST_RESIZE</code></td>
<td style="text-align:left">adjustResize</td>
<td style="text-align:left">当软键盘弹出时，窗口会调整大小，该模式不能与SOFT_INPUT_ADJUST_PAN结合使用；如果窗口的布局参数标志包含FLAG_FULLSCREEN，则将忽略这个值，窗口不会调整大小，但会保持全屏。</td>
</tr>
<tr>
<td style="text-align:left"><code>SOFT_INPUT_ADJUST_PAN</code></td>
<td style="text-align:left">adjustPan</td>
<td style="text-align:left">当软键盘弹出时，窗口不需要调整大小，只需通过进行输入框平移以确保当前输入焦点可见；该模式不能与SOFT_INPUT_ADJUST_RESIZE结合使用。</td>
</tr>
<tr>
<td style="text-align:left"><code>SOFT_INPUT_ADJUST_NOTHING</code></td>
<td style="text-align:left">adjustNothing</td>
<td style="text-align:left">将不会调整大小，直接覆盖在窗口上</td>
</tr>
<tr>
<td style="text-align:left"><code>SOFT_INPUT_IS_FORWARD_NAVIGATION</code></td>
<td style="text-align:left">–</td>
<td style="text-align:left">当用户转至此窗口时，由系统自动设置，当窗口显示之后该标志将自动清除</td>
</tr>
</tbody>
</table>
<h2 id="Window-的凹口屏幕布局方式"><a href="#Window-的凹口屏幕布局方式" class="headerlink" title="Window 的凹口屏幕布局方式"></a>Window 的凹口屏幕布局方式</h2><p><code>Window</code> 的 <code>layoutInDisplayCutoutMode</code> 用于控制 <code>Window</code> 在凹口屏幕上的布局方式，它们的值也是定义在 <code>WindowManager</code> 的静态内部类 <code>LayoutParams</code> 中，源码如下：</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">LayoutParams</span> <span class="token keyword">extends</span> <span class="token class-name">ViewGroup<span class="token punctuation">.</span>LayoutParams</span> <span class="token keyword">implements</span> <span class="token class-name">Parcelable</span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">/** Window在凹口屏幕的布局方式 */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> layoutInDisplayCutoutMode <span class="token operator">=</span> LAYOUT_IN_DISPLAY_CUTOUT_MODE_DEFAULT<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 默认情况下，全屏窗口不会使用到刘海区域，非全屏窗口可正常使用刘海区域 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> LAYOUT_IN_DISPLAY_CUTOUT_MODE_DEFAULT <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 窗口声明使用刘海区域(已弃用，使用LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES代替) */</span>
    <span class="token annotation punctuation">@Deprecated</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> LAYOUT_IN_DISPLAY_CUTOUT_MODE_ALWAYS <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 窗口声明使用刘海区域 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 窗口声明不使用刘海区域 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> LAYOUT_IN_DISPLAY_CUTOUT_MODE_NEVER <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left">布局方式</th>
<th style="text-align:left">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>LAYOUT_IN_DISPLAY_CUTOUT_MODE_DEFAULT</code></td>
<td style="text-align:left">默认情况下，全屏窗口不会使用到刘海区域，非全屏窗口可正常使用刘海区域</td>
</tr>
<tr>
<td style="text-align:left"><code>LAYOUT_IN_DISPLAY_CUTOUT_MODE_ALWAYS</code></td>
<td style="text-align:left">窗口声明使用刘海区域(已弃用，使用 LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES代替 )</td>
</tr>
<tr>
<td style="text-align:left"><code>LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES</code></td>
<td style="text-align:left">窗口声明使用刘海区域</td>
</tr>
<tr>
<td style="text-align:left"><code>LAYOUT_IN_DISPLAY_CUTOUT_MODE_NEVER</code></td>
<td style="text-align:left">窗口声明不使用刘海区域</td>
</tr>
</tbody>
</table>
<h2 id="Window-的屏幕方向"><a href="#Window-的屏幕方向" class="headerlink" title="Window 的屏幕方向"></a>Window 的屏幕方向</h2><p><code>Window</code> 的 <code>screenOrientation</code> 用于控制 <code>Window</code> 的屏幕方向，它们的值也是定义在 <code>ActivityInfo</code> 中，源码如下：</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ActivityInfo</span> <span class="token keyword">extends</span> <span class="token class-name">ComponentInfo</span> <span class="token keyword">implements</span> <span class="token class-name">Parcelable</span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">/** 未设置特定的方向值(系统隐藏API) */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCREEN_ORIENTATION_UNSET <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 未设置特定的方向值，与 unspecified 对应 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCREEN_ORIENTATION_UNSPECIFIED <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 横屏(90度)，与 landscape 对应 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCREEN_ORIENTATION_LANDSCAPE <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 竖屏(0度)，与 behind 对应 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCREEN_ORIENTATION_PORTRAIT <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 屏幕方向为用户当前的首选方向，与 user 对应 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCREEN_ORIENTATION_USER <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 屏幕方向与活动堆栈中紧接其下的活动的方向相同，与 behind 对应 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCREEN_ORIENTATION_BEHIND <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 无论系统是否设置为自动转屏，屏幕方向跟随方向传感器，与 sensor 对应 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCREEN_ORIENTATION_SENSOR <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 无论系统是否设置为自动转屏，屏幕方向不跟随方向传感器，与 nosensor 对应 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCREEN_ORIENTATION_NOSENSOR <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 根据方向传感器横屏切换(90度和270度)，与 sensorLandscape 对应 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCREEN_ORIENTATION_SENSOR_LANDSCAPE <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 根据方向传感器竖屏切换(0度和180度)，与 sensorPortrait 对应 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCREEN_ORIENTATION_SENSOR_PORTRAIT <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 反向横屏(270度)，与 reverseLandscape 对应 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCREEN_ORIENTATION_REVERSE_LANDSCAPE <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 反向竖屏(180度)，与 reversePortrait 对应 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCREEN_ORIENTATION_REVERSE_PORTRAIT <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 显示的方向(4个方向)是由设备的方向传感器来决定的，除了它允许屏幕有4个显示方向之外，其他与设置为 sensor 时情况类似，与 fullSensor 对应 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCREEN_ORIENTATION_FULL_SENSOR <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 屏幕方向为横向，根据设备传感器和用户的喜好可以为正向或反向横向，与 userLandscape 对应 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCREEN_ORIENTATION_USER_LANDSCAPE <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 屏幕方向为纵向，根据设备传感器和用户的喜好可以为正向或反向纵向，与 userPortrait 对应 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCREEN_ORIENTATION_USER_PORTRAIT <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 如果用户已锁定基于传感器的旋转，则其行为与用户相同，否则与 fullSensor 相同，并允许4种可能的屏幕方向中的任何一种，与 fullUser 对应 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCREEN_ORIENTATION_FULL_USER <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/** 不管方向如何，都将方向锁定为其当前旋转，与 locked 对应 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SCREEN_ORIENTATION_LOCKED <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left">屏幕方向</th>
<th style="text-align:left">xml属性</th>
<th style="text-align:left">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>SCREEN_ORIENTATION_UNSET</code></td>
<td style="text-align:left">–</td>
<td style="text-align:left">未设置特定的方向值(系统隐藏API)</td>
</tr>
<tr>
<td style="text-align:left"><code>SCREEN_ORIENTATION_UNSPECIFIED</code></td>
<td style="text-align:left">unspecified</td>
<td style="text-align:left">未设置特定的方向值</td>
</tr>
<tr>
<td style="text-align:left"><code>SCREEN_ORIENTATION_LANDSCAPE</code></td>
<td style="text-align:left">landscape</td>
<td style="text-align:left">横屏(90度)</td>
</tr>
<tr>
<td style="text-align:left"><code>SCREEN_ORIENTATION_PORTRAIT</code></td>
<td style="text-align:left">behind</td>
<td style="text-align:left">竖屏(0度)</td>
</tr>
<tr>
<td style="text-align:left"><code>SCREEN_ORIENTATION_USER</code></td>
<td style="text-align:left">user</td>
<td style="text-align:left">屏幕方向为用户当前的首选方向</td>
</tr>
<tr>
<td style="text-align:left"><code>SCREEN_ORIENTATION_BEHIND</code></td>
<td style="text-align:left">behind</td>
<td style="text-align:left">屏幕方向与活动堆栈中紧接其下的活动的方向相同</td>
</tr>
<tr>
<td style="text-align:left"><code>SCREEN_ORIENTATION_SENSOR</code></td>
<td style="text-align:left">sensor</td>
<td style="text-align:left">无论系统是否设置为自动转屏，屏幕方向跟随方向传感器</td>
</tr>
<tr>
<td style="text-align:left"><code>SCREEN_ORIENTATION_NOSENSOR</code></td>
<td style="text-align:left">nosensor</td>
<td style="text-align:left">无论系统是否设置为自动转屏，屏幕方向不跟随方向传感器</td>
</tr>
<tr>
<td style="text-align:left"><code>SCREEN_ORIENTATION_SENSOR_LANDSCAPE</code></td>
<td style="text-align:left">sensorLandscape</td>
<td style="text-align:left">根据方向传感器横屏切换(90度和270度)</td>
</tr>
<tr>
<td style="text-align:left"><code>SCREEN_ORIENTATION_SENSOR_PORTRAIT</code></td>
<td style="text-align:left">sensorPortrait</td>
<td style="text-align:left">根据方向传感器竖屏切换(0度和180度)</td>
</tr>
<tr>
<td style="text-align:left"><code>SCREEN_ORIENTATION_REVERSE_LANDSCAPE</code></td>
<td style="text-align:left">reverseLandscape</td>
<td style="text-align:left">反向横屏(270度)</td>
</tr>
<tr>
<td style="text-align:left"><code>SCREEN_ORIENTATION_REVERSE_PORTRAIT</code></td>
<td style="text-align:left">reversePortrait</td>
<td style="text-align:left">反向竖屏(180度)</td>
</tr>
<tr>
<td style="text-align:left"><code>SCREEN_ORIENTATION_FULL_SENSOR</code></td>
<td style="text-align:left">fullSensor</td>
<td style="text-align:left">显示的方向(4个方向)是由设备的方向传感器来决定的，除了它允许屏幕有4个显示方向之外，其他与设置为 sensor 时情况类似</td>
</tr>
<tr>
<td style="text-align:left"><code>SCREEN_ORIENTATION_USER_LANDSCAPE</code></td>
<td style="text-align:left">userLandscape</td>
<td style="text-align:left">屏幕方向为横向，根据设备传感器和用户的喜好可以为正向或反向横向</td>
</tr>
<tr>
<td style="text-align:left"><code>SCREEN_ORIENTATION_USER_PORTRAIT</code></td>
<td style="text-align:left">userPortrait</td>
<td style="text-align:left">屏幕方向为纵向，根据设备传感器和用户的喜好可以为正向或反向纵向</td>
</tr>
<tr>
<td style="text-align:left"><code>SCREEN_ORIENTATION_FULL_USER</code></td>
<td style="text-align:left">fullUser</td>
<td style="text-align:left">如果用户已锁定基于传感器的旋转，则其行为与用户相同，否则与 fullSensor 相同，并允许4种可能的屏幕方向中的任何一种</td>
</tr>
<tr>
<td style="text-align:left"><code>SCREEN_ORIENTATION_LOCKED</code></td>
<td style="text-align:left">locked</td>
<td style="text-align:left">不管方向如何，都将方向锁定为其当前旋转</td>
</tr>
</tbody>
</table>
<h2 id="Window-的视图层级顺序"><a href="#Window-的视图层级顺序" class="headerlink" title="Window 的视图层级顺序"></a>Window 的视图层级顺序</h2><p>我们在手机上看的是二维的，但是实际上是三维的显示，<code>WindowManager</code> 的静态内部类 <code>LayoutParams</code> 中 包含了 <code>Window</code> 的 <code>x</code> 轴坐标和 <code>y</code> 轴坐标。</p>
<p><code>Window</code> 视图层级顺序 用 <code>Z-order</code> 来表示，<code>Z-order</code> 对应着 <code>WindowManager.LayoutParams</code> 的 <code>type</code> 值，<code>Z-order</code> 可以理解为 Android 视图的层级概念，值越大越靠前，就越靠近用户。</p>
<p><code>Z-order</code> 的值的计算逻辑在 <code>WindowState</code> 类中，<code>WindowState</code> 构造的时候初始化当前的 <code>mBaseLayer</code> 和 <code>mSubLayer</code>，这两个参数应该是决定 <code>Z-order</code> 的两个因素：</p>
<pre class=" language-java"><code class="language-java"><span class="token function">WindowState</span><span class="token punctuation">(</span>WindowManagerService service<span class="token punctuation">,</span> Session s<span class="token punctuation">,</span> IWindow c<span class="token punctuation">,</span> WindowToken token<span class="token punctuation">,</span>
            WindowState parentWindow<span class="token punctuation">,</span> <span class="token keyword">int</span> appOp<span class="token punctuation">,</span> <span class="token keyword">int</span> seq<span class="token punctuation">,</span> WindowManager<span class="token punctuation">.</span>LayoutParams a<span class="token punctuation">,</span>
            <span class="token keyword">int</span> viewVisibility<span class="token punctuation">,</span> <span class="token keyword">int</span> ownerId<span class="token punctuation">,</span> <span class="token keyword">boolean</span> ownerCanAddInternalSystemWindow<span class="token punctuation">,</span>
            PowerManagerWrapper powerManagerWrapper<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">// ...</span>

    <span class="token comment" spellcheck="true">// 判断该是否在子Window的类型范围内[1000,1999]</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mAttrs<span class="token punctuation">.</span>type <span class="token operator">>=</span> FIRST_SUB_WINDOW <span class="token operator">&amp;&amp;</span> mAttrs<span class="token punctuation">.</span>type <span class="token operator">&lt;=</span> LAST_SUB_WINDOW<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// 调用getWindowLayerLw()方法返回值在[1,33]之间，根据不同类型的Window在屏幕上进行排序</span>
        mBaseLayer <span class="token operator">=</span> mPolicy<span class="token punctuation">.</span><span class="token function">getWindowLayerLw</span><span class="token punctuation">(</span>parentWindow<span class="token punctuation">)</span>
                <span class="token operator">*</span> TYPE_LAYER_MULTIPLIER <span class="token operator">+</span> TYPE_LAYER_OFFSET<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// mSubLayer子窗口的顺序</span>
        <span class="token comment" spellcheck="true">// 调用getSubWindowLayerFromTypeLw())方法返回值在[-2.3]之间 ，返回子Window相对于父Window的位置</span>
        mSubLayer <span class="token operator">=</span> mPolicy<span class="token punctuation">.</span><span class="token function">getSubWindowLayerFromTypeLw</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// ...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        mBaseLayer <span class="token operator">=</span> mPolicy<span class="token punctuation">.</span><span class="token function">getWindowLayerLw</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
                <span class="token operator">*</span> TYPE_LAYER_MULTIPLIER <span class="token operator">+</span> TYPE_LAYER_OFFSET<span class="token punctuation">;</span>
        mSubLayer <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// ...</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// ...</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li><code>mBaseLayer</code> 是基础序，对应的区间范围 [1,33]；</li>
<li><code>mSubLayer</code> 相同分组下的子 <code>Window</code> 的序，对应的区间范围 [-2.3]；</li>
<li>判断该是否在子 <code>Window</code> 的类型范围内[1000,1999]；</li>
<li>如果是子 <code>Window</code>，调用 <code>getWindowLayerLw()</code> 方法，计算 <code>mBaseLayer</code> 的值，返回一个用来对 <code>Window</code> 进行排序的任意整数，调用 <code>getSubWindowLayerFromTypeLw()</code> 方法，计算 <code>mSubLayer</code> 的值，返回子 <code>Window</code> 相对于父 <code>Window</code> 的位置；</li>
<li>如果不是子 <code>Window</code>，调用 <code>getWindowLayerLw()</code> 方法，计算 <code>mBaseLayer</code> 的值，返回一个用来对 <code>Window</code> 进行排序的任意整数，<code>mSubLayer</code> 值为 0。</li>
</ul>
<h3 id="窗口主序的确定"><a href="#窗口主序的确定" class="headerlink" title="窗口主序的确定"></a>窗口主序的确定</h3><p><code>mBaseLayer</code> 也被称为窗口主序，调用 <code>WindowManagerPolicy</code> 的 <code>getWindowLayerLw()</code> 方法，传入 <code>WindowState</code> 的实例 <code>parentWindow</code>，计算 <code>mBaseLayer</code> 的值：</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">int</span> APPLICATION_LAYER <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> APPLICATION_MEDIA_SUBLAYER <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> APPLICATION_MEDIA_OVERLAY_SUBLAYER <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> APPLICATION_PANEL_SUBLAYER <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> APPLICATION_SUB_PANEL_SUBLAYER <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> APPLICATION_ABOVE_SUB_PANEL_SUBLAYER <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

<span class="token keyword">default</span> <span class="token keyword">int</span> <span class="token function">getWindowLayerLw</span><span class="token punctuation">(</span>WindowState win<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">getWindowLayerFromTypeLw</span><span class="token punctuation">(</span>win<span class="token punctuation">.</span><span class="token function">getBaseType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> win<span class="token punctuation">.</span><span class="token function">canAddInternalSystemWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/**
 * 根据不同类型的 Window 在屏幕上进行排序
 * 返回一个用来对窗口进行排序的任意整数，数字越小，表示的值越小
 */</span>   
<span class="token keyword">default</span> <span class="token keyword">int</span> <span class="token function">getWindowLayerFromTypeLw</span><span class="token punctuation">(</span><span class="token keyword">int</span> type<span class="token punctuation">,</span> <span class="token keyword">boolean</span> canAddInternalSystemWindow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 判断是否在应用程序 Window 类型的取值范围内 [1,99]</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">>=</span> FIRST_APPLICATION_WINDOW <span class="token operator">&amp;&amp;</span> type <span class="token operator">&lt;=</span> LAST_APPLICATION_WINDOW<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> APPLICATION_LAYER<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> TYPE_WALLPAPER<span class="token operator">:</span>        <span class="token comment" spellcheck="true">// 壁纸，通过 window manager 删除它</span>
            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> TYPE_PHONE<span class="token operator">:</span>            <span class="token comment" spellcheck="true">// 电话</span>
            <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> TYPE_SEARCH_BAR<span class="token operator">:</span>       <span class="token comment" spellcheck="true">// 搜索栏</span>
            <span class="token keyword">return</span> <span class="token number">4</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> TYPE_SYSTEM_DIALOG<span class="token operator">:</span>    <span class="token comment" spellcheck="true">// 系统对话框</span>
            <span class="token keyword">return</span> <span class="token number">7</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> TYPE_TOAST<span class="token operator">:</span>            <span class="token comment" spellcheck="true">// Toast</span>
            <span class="token keyword">return</span> <span class="token number">8</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> TYPE_INPUT_METHOD<span class="token operator">:</span>     <span class="token comment" spellcheck="true">// 输入法</span>
            <span class="token keyword">return</span> <span class="token number">15</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> TYPE_STATUS_BAR<span class="token operator">:</span>       <span class="token comment" spellcheck="true">// 状态栏</span>
            <span class="token keyword">return</span> <span class="token number">17</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> TYPE_KEYGUARD_DIALOG<span class="token operator">:</span>  <span class="token comment" spellcheck="true">// 锁屏</span>
            <span class="token keyword">return</span> <span class="token number">20</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> TYPE_NAVIGATION_BAR<span class="token operator">:</span>   <span class="token comment" spellcheck="true">// 导航栏</span>
            <span class="token keyword">return</span> <span class="token number">23</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> TYPE_POINTER<span class="token operator">:</span>
            <span class="token comment" spellcheck="true">// the (mouse) pointer layer</span>
            <span class="token keyword">return</span> <span class="token number">33</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">return</span> APPLICATION_LAYER<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>根据不同类型的 <code>Window</code> 在屏幕上进行排序，返回一个用来对 <code>Window</code> 进行排序的任意整数，数字越小，表示的值越小，通过以下公式来计算它的基础序，基础序越大，<code>Z-order</code> 值越大越靠前，就越靠近用户。</p>
<h3 id="窗口子序的确定"><a href="#窗口子序的确定" class="headerlink" title="窗口子序的确定"></a>窗口子序的确定</h3><p><code>mSubLayer</code> 也被称为窗口子序，调用 <code>getSubWindowLayerFromTypeLw()</code> 方法，传入 <code>WindowManager.LayoutParams</code> 的实例 <code>a</code> 的 <code>type</code> 值，计算 <code>mSubLayer</code> 的值：</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">int</span> APPLICATION_LAYER <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> APPLICATION_MEDIA_SUBLAYER <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> APPLICATION_MEDIA_OVERLAY_SUBLAYER <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> APPLICATION_PANEL_SUBLAYER <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> APPLICATION_SUB_PANEL_SUBLAYER <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> APPLICATION_ABOVE_SUB_PANEL_SUBLAYER <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
 * 计算 Window 相对于父 Window 的位置
 * 返回 一个整数，正值在前面，表示在父 Window 上面，负值在后面，表示在父 Window 的下面
 */</span>
 <span class="token keyword">default</span> <span class="token keyword">int</span> <span class="token function">getSubWindowLayerFromTypeLw</span><span class="token punctuation">(</span><span class="token keyword">int</span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> TYPE_APPLICATION_PANEL<span class="token operator">:</span>                      <span class="token comment" spellcheck="true">// 1000</span>
        <span class="token keyword">case</span> TYPE_APPLICATION_ATTACHED_DIALOG<span class="token operator">:</span>            <span class="token comment" spellcheck="true">// 1003</span>
            <span class="token keyword">return</span> APPLICATION_PANEL_SUBLAYER<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// 返回值是1</span>
        <span class="token keyword">case</span> TYPE_APPLICATION_MEDIA<span class="token operator">:</span>                      <span class="token comment" spellcheck="true">// 1001</span>
            <span class="token keyword">return</span> APPLICATION_MEDIA_SUBLAYER<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// 返回值是-2</span>
        <span class="token keyword">case</span> TYPE_APPLICATION_MEDIA_OVERLAY<span class="token operator">:</span>              <span class="token comment" spellcheck="true">// 1004</span>
            <span class="token keyword">return</span> APPLICATION_MEDIA_OVERLAY_SUBLAYER<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 返回值是-1</span>
        <span class="token keyword">case</span> TYPE_APPLICATION_SUB_PANEL<span class="token operator">:</span>                  <span class="token comment" spellcheck="true">// 1002</span>
            <span class="token keyword">return</span> APPLICATION_SUB_PANEL_SUBLAYER<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 返回值是2</span>
        <span class="token keyword">case</span> TYPE_APPLICATION_ABOVE_SUB_PANEL<span class="token operator">:</span>            <span class="token comment" spellcheck="true">// 1005</span>
            <span class="token keyword">return</span> APPLICATION_ABOVE_SUB_PANEL_SUBLAYER<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 返回值是3</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>计算子 <code>Window</code> 相对于父 <code>Window</code> 的位置，返回一个整数，用来描述一个窗口是否属于另外一个窗口的子窗口，或者是用来确定子窗口和父窗口之间的相对位置的，正值表示在父 <code>Window</code> 上面，负值表示在父 <code>Window</code> 的下面。</p>

            </div>
            <hr>

            



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Android/">
                                    <span class="chip bg-color">Android</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            
        </div>
    </div>

    
        <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: 'b27d1ff57c26076f312f',
        clientSecret: '813ecb40fe6f0fa06e02837facf17ecbbb037ad6',
        repo: 'henleylee.github.io',
        owner: 'HenleyLee',
        admin: "HenleyLee",
        id: '2020-06-07T12-15-56',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>
    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/posts/2020/176e58e5.html">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/14.jpg" class="responsive-img" alt="使用 Android Studio Profiler 工具解析应用的内存和 CPU 使用数据">
                        
                        <span class="card-title">使用 Android Studio Profiler 工具解析应用的内存和 CPU 使用数据</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            本文转载自：https://mp.weixin.qq.com/s/MIuSi85lnrETqq3rl0Hc6A
为了帮助开发者开发出更加轻快高效的应用，我们在 Android Studio 3.0 以及更高版本中加入了 Android Pr
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-calendar-alt fa-fw icon-date"></i>2020-06-25
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Android/" class="post-category">
                                    Android
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Android/">
                        <span class="chip tag-bg-color">Android</span>
                    </a>
                    
                    <a href="/tags/Android-Studio/">
                        <span class="chip tag-bg-color">Android Studio</span>
                    </a>
                    
                    <a href="/tags/Android-Profiler/">
                        <span class="chip tag-bg-color">Android Profiler</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/posts/2020/9df0c18c.html">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/13.jpg" class="responsive-img" alt="IntelliJ IDEA 快捷键大全">
                        
                        <span class="card-title">IntelliJ IDEA 快捷键大全</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            工欲善其事，必先利其器，使用 IntelliJ IDEA 系列开发工具的必备快捷键工具，可以显著提高开发效率。
Ctrl 快捷键


快捷键
介绍




Ctrl + C
复制光标所在行 或 复制选择内容


Ctrl + D
复制光标所
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-calendar-alt fa-fw icon-date"></i>2020-05-20
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/工具/" class="post-category">
                                    工具
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/IntelliJ-IDEA/">
                        <span class="chip tag-bg-color">IntelliJ IDEA</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: Henley<br />'
            + '文章作者: HenleyLee<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>

    
<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>

    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4, h5'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4, h5').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>



    <footer class="page-footer foot-bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            <i class="fa fa-copyright"></i> 2018 <a class="foot-titlt-bg" href="https://henleylee.github.io" target="_blank">HenleyLee</a>.
	    &nbsp;All rights reserved.
            Powered by <a class="foot-titlt-bg" href="https://hexo.io/" target="_blank">Hexo</a>.
	    &nbsp;Theme by <a class="foot-titlt-bg" href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>.
            
            
                &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;
                <span class="white-color">454.7k</span>&nbsp;字
            
	    <br>
	    
            
            
            
            
            <span id="busuanzi_container_site_pv">
            <i class="far fa-eye"></i>&nbsp;本站总访问量&nbsp;<span id="busuanzi_value_site_pv" class="white-color"></span>&nbsp;次&nbsp;
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                &nbsp;<i class="fas fa-user"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv" class="white-color"></span>&nbsp;人&nbsp;
            </span>
            
            
            
	    <i class="far fa-clock"></i>&nbsp;<span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>&nbsp;
            <script>
                function createtime() {
                    var now = new Date(); // 当前时间
                    var grt = new Date("06/01/2018 00:00:00"); // 建站时间或者网站上线时间
                    now.setTime(now.getTime() + 250);
                    days = (now - grt) / 1000 / 60 / 60 / 24;
                    dnum = Math.floor(days);
                    hours = (now - grt) / 1000 / 60 / 60 - (24 * dnum);
                    hnum = Math.floor(hours);
                    if (String(hnum).length == 1) {
                        hnum = "0" + hnum;
                    }
                    minutes = (now - grt) / 1000 / 60 - (24 * 60 * dnum) - (60 * hnum);
                    mnum = Math.floor(minutes);
                    if (String(mnum).length == 1) {
                        mnum = "0" + mnum;
                    }
                    seconds = (now - grt) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
                    snum = Math.round(seconds);
                    if (String(snum).length == 1) {
                        snum = "0" + snum;
                    }
                    document.getElementById("timeDate").innerHTML = "本站已安全运行 " + dnum + " 天 ";
                    document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
                }
                setInterval("createtime()", 250);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/HenleyLee" class="tooltipped" target="_blank" data-tooltip="GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:henleylee@yeah.net" class="tooltipped" data-tooltip="Email" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://message/?uin=873825813&Site=QQ&Menu=yes" class="tooltipped" data-tooltip="QQ" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>
</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-angle-double-up"></i>
    </a>
</div>


    <script src="/libs/others/current-device.js"></script>
    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->


    <!-- Baidu Analytics -->


    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    
    <script type="text/javascript" color="0,0,255"
        pointColor="0,0,255" opacity='0.7'
        zIndex="-1" count="99"
        src="/libs/background/canvas-nest.js"></script>
    

    

    
    
    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>